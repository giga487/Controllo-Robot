clc
clear
close all

z = sym('z', [7 1], 'real'); % state

f = [z(4);
     z(5)-z(3)*z(4);
     z(4)*z(2);
     0;
     fz;
     z(7);
     0];
g1 = [0;0;0;1;0;0;0];
g2 = [0;0;0;0;-fu;0;1];

fz = (sin(2*z(6))*(-b1*b5*((z(4))^2)*cos(z(6))-b5^2*g)+2*(b2*b5*z(7)^2*sin(z(6))))/(2*b2*b3-(b5*cos(z(6)))^2)+(b2+R*b5*cos(z(6)))/(b1*R+b5*cos
